<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
  "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../general.ent">
  %general-entities;
]>

<sect1 id="ch-system-busybox" role="wrap">
  <?dbhtml filename="busybox.html"?>

  <sect1info condition="script">
    <productname>busybox</productname>
    <productnumber>&busybox-version;</productnumber>
    <address>&busybox-url;</address>
  </sect1info>

  <title>BusyBox-&busybox-version;</title>

  <indexterm zone="ch-system-busybox">
    <primary sortas="a-BusyBox">BusyBox</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>
      BusyBox combines tiny versions of many common UNIX utilities into a single
      small executable. It provides replacements for most of the utilities you
      usually find in GNU fileutils, shellutils, etc. The utilities in BusyBox
      generally have fewer options than their full-featured GNU cousins;
      however, the options that are included provide the expected functionality
      and behave very much like their GNU counterparts.
    </para>

    <segmentedlist>
      <segtitle>&buildtime;</segtitle>
      <segtitle>&diskspace;</segtitle>

      <seglistitem>
        <seg>&busybox-ch6-sbu;</seg>
        <seg>&busybox-ch6-du;</seg>
      </seglistitem>
    </segmentedlist>

  </sect2>

  <sect2 role="installation">
    <title>Installation of BusyBox</title>

    <para>First ensure the BusyBox source is completely clean:</para>

<screen><userinput remap="pre">make distclean</userinput></screen>

    <para>Prepare BusyBox for compilation:</para>

<screen><userinput remap="configure">make defconfig</userinput></screen>

   <para>Disable RPC support because of issues when building against Glibc:</para>

<screen><userinput remap="configure">sed -e 's/\(CONFIG_FEATURE_HAVE_RPC\)=y/# \1 is not set/' \
    -e 's/\(CONFIG_FEATURE_INETD_RPC\)=y/# \1 is not set/' -i .config</userinput></screen>

    <para>Compile the package:</para>

<screen><userinput remap="make">make</userinput></screen>

    <para>Install the package:</para>

<screen><userinput remap="install">install -v -m755 busybox /bin
ln -sv busybox /bin/egrep
ln -sv busybox /bin/fgrep
ln -sv busybox /bin/grep
ln -sv busybox /bin/more
ln -sv busybox /bin/netstat
ln -sv busybox /bin/sed
ln -sv busybox /bin/tar
ln -sv busybox /bin/vi
ln -sv ../bin/busybox /sbin/acpid
ln -sv ../bin/busybox /sbin/ifconfig
ln -sv ../bin/busybox /sbin/mdev
ln -sv ../../bin/busybox /usr/bin/find
ln -sv ../../bin/busybox /usr/bin/less
ln -sv ../../bin/busybox /usr/bin/man
ln -sv ../../bin/busybox /usr/bin/patch
ln -sv ../../bin/busybox /usr/bin/unzip
ln -sv ../../bin/busybox /usr/bin/uudecode
ln -sv ../../bin/busybox /usr/bin/uuencode
ln -sv ../../bin/busybox /usr/bin/wget
ln -sv ../../bin/busybox /usr/bin/which
ln -sv ../../bin/busybox /usr/bin/whois
ln -sv ../../bin/busybox /usr/bin/xargs</userinput></screen>

    <para>Configure the man paths:</para>

<screen><userinput>cat &gt; /etc/man_db.conf &lt;&lt; "EOF"
<literal>MANDATORY_MANPATH /usr/local/share/man
MANDATORY_MANPATH /usr/share/man</literal>
EOF</userinput></screen>

  </sect2>

  <sect2 id="contents-busybox" role="content">
    <title>Contents of BusyBox</title>

    <segmentedlist>
      <segtitle>Installed programs</segtitle>

      <seglistitem>
        <seg>busybox, acpid, egrep, fgrep, find, grep, ifconfig, less, man,
        mdev, more, netstat, patch, sed, tar, unzip, uudecode, uuencode, vi,
        wget, which, whois, and xargs</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="busybox">
        <term><command>busybox</command></term>
        <listitem>
          <para>Combines many common Unix utilities into a single
          executable.</para>
          <indexterm zone="ch-system-busybox busybox">
            <primary sortas="b-busybox">busybox</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="acpid">
        <term><command>acpid</command></term>
        <listitem>
          <para>Listens to ACPI events and spawns specific helpers on event
          arrival.</para>
          <indexterm zone="ch-system-busybox acpid">
            <primary sortas="b-acpid">acpid</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="egrep">
        <term><command>egrep</command></term>
        <listitem>
          <para>Prints lines matching an extended regular expression.</para>
          <indexterm zone="ch-system-busybox egrep">
            <primary sortas="b-egrep">egrep</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="fgrep">
        <term><command>fgrep</command></term>
        <listitem>
          <para>Prints lines matching a list of fixed strings.</para>
          <indexterm zone="ch-system-busybox fgrep">
            <primary sortas="b-fgrep">fgrep</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="find">
        <term><command>find</command></term>
        <listitem>
          <para>Searches for files and performs actions on them.</para>
          <indexterm zone="ch-system-busybox find">
            <primary sortas="b-find">find</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="grep">
        <term><command>grep</command></term>
        <listitem>
          <para>Prints lines matching a basic regular expression.</para>
          <indexterm zone="ch-system-busybox grep">
            <primary sortas="b-grep">grep</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="ifconfig">
        <term><command>ifconfig</command></term>
        <listitem>
          <para>Configures a network interface.</para>
          <indexterm zone="ch-system-busybox ifconfig">
            <primary sortas="b-ifconfig">ifconfig</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="less">
        <term><command>less</command></term>
        <listitem>
          <para>Views files or stdin one screenful at a time.</para>
          <indexterm zone="ch-system-busybox less">
            <primary sortas="b-less">less</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="man">
        <term><command>man</command></term>
        <listitem>
          <para>Formats and displays manual page.</para>
          <indexterm zone="ch-system-busybox man">
            <primary sortas="b-man">man</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="mdev-prog">
        <term><command>mdev</command></term>
        <listitem>
          <para>Creates and dynamically updates device files.</para>
          <indexterm zone="ch-system-busybox mdev">
            <primary sortas="b-mdev">mdev</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="more">
        <term><command>more</command></term>
        <listitem>
          <para>Views files or stdin one screenful at a time.</para>
          <indexterm zone="ch-system-busybox more">
            <primary sortas="b-more">more</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="netstat">
        <term><command>netstat</command></term>
        <listitem>
          <para>Displays networking information.</para>
          <indexterm zone="ch-system-busybox netstat">
            <primary sortas="b-netstat">netstat</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="patch">
        <term><command>patch</command></term>
        <listitem>
          <para>Modifies files according to a patch file.</para>
          <indexterm zone="ch-system-busybox patch">
            <primary sortas="b-patch">patch</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="sed">
        <term><command>sed</command></term>
        <listitem>
          <para>Filters and transforms text files in a single pass.</para>
          <indexterm zone="ch-system-busybox sed">
            <primary sortas="b-sed">sed</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="tar">
        <term><command>tar</command></term>
        <listitem>
          <para>Creates, extracts, or lists files from a tar file.</para>
          <indexterm zone="ch-system-busybox tar">
            <primary sortas="b-tar">tar</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="unzip">
        <term><command>unzip</command></term>
        <listitem>
          <para>Extract files from ZIP archive.</para>
          <indexterm zone="ch-system-busybox unzip">
            <primary sortas="b-unzip">unzip</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="uudecode">
        <term><command>uudecode</command></term>
        <listitem>
          <para>Decodes the uuencoded file.</para>
          <indexterm zone="ch-system-busybox uudecode">
            <primary sortas="b-uudecode">uudecode</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="uuencode">
        <term><command>uuencode</command></term>
        <listitem>
          <para>Reads a file and writes an encoded version to the standard
          output.</para>
          <indexterm zone="ch-system-busybox uuencode">
            <primary sortas="b-uuencode">uuencode</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="vi">
        <term><command>vi</command></term>
        <listitem>
          <para>Edits files.</para>
          <indexterm zone="ch-system-busybox vi">
            <primary sortas="b-vi">vi</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="wget">
        <term><command>wget</command></term>
        <listitem>
          <para>Retrieves files via HTTP or FTP.</para>
          <indexterm zone="ch-system-busybox wget">
            <primary sortas="b-wget">wget</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="which">
        <term><command>which</command></term>
        <listitem>
          <para>Locates a command.</para>
          <indexterm zone="ch-system-busybox which">
            <primary sortas="b-which">which</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="whois">
        <term><command>whois</command></term>
        <listitem>
          <para>Queries WHOIS info about a domain name.</para>
          <indexterm zone="ch-system-busybox whois">
            <primary sortas="b-whois">which</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="xargs">
        <term><command>xargs</command></term>
        <listitem>
          <para>Runs a given command to a list of files.</para>
          <indexterm zone="ch-system-busybox xargs">
            <primary sortas="b-xargs">xargs</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
