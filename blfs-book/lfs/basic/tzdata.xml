<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!ENTITY tzdata-homepage      "http://www.iana.org/time-zones">
  <!ENTITY tzdata-wikipedia     "https://en.wikipedia.org/wiki/Tz_database">
  <!ENTITY tzdata-download-http "http://www.iana.org/time-zones/repository/releases/tzdata&tzdata-version;.tar.gz">
  <!ENTITY tzdata-download-ftp  " ">
  <!ENTITY tzdata-md5sum        "878f0ec3fd9e4026ea11dd1b649a315a">
  <!ENTITY tzdata-size          "312 KB">
  <!ENTITY tzdata-buildsize     " MB">
  <!ENTITY tzdata-time          " SBU">
]>

<sect1 id="tzdata" xreflabel="tzdata-&tzdata-version;">
  <?dbhtml filename="tzdata.html"?>

  <title>tzdata-&tzdata-version;</title>

  <sect2 role="package">
    <title>Introduction</title>

    <para>
      This package contains data required for the implementation of standard
      local time for many representative locations around the globe. It is
      updated periodically to reflect changes made by political bodies to time
      zone boundaries, UTC offsets, and daylight-saving rules.
    </para>

    <bridgehead renderas="sect3">Package Information</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>
          Homepage: <ulink url="&tzdata-homepage;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Wikipedia: <ulink url="&tzdata-wikipedia;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Download (HTTP): <ulink url="&tzdata-download-http;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Download (FTP): <ulink url="&tzdata-download-ftp;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Download MD5 sum: &tzdata-md5sum;
        </para>
      </listitem>
      <listitem>
        <para>
          Download size: &tzdata-size;
        </para>
      </listitem>
      <listitem>
        <para>
          Estimated disk space required: &tzdata-buildsize;
        </para>
      </listitem>
      <listitem>
        <para>
          Estimated build time: &tzdata-time;
        </para>
      </listitem>
    </itemizedlist>

  </sect2>

  <sect2>
    <title>Installation</title>

    <para>
      Unpack the package:
    </para>

<screen><userinput>mkdir -v tzdata&tzdata-version; &amp;&amp;
tar xf tzdata&tzdata-version;.tar.gz -C tzdata&tzdata-version;</userinput></screen>

    <para>
      Install the package:
    </para>

<screen><userinput>ZONEINFO=/share/zoneinfo
mkdir -pv $ZONEINFO/posix $ZONEINFO/right

for tz in etcetera southamerica northamerica europe africa antarctica \
          asia australasia backward pacificnew systemv; do
    zic -L /dev/null   -d $ZONEINFO       -y "sh yearistype.sh" ${tz}
    zic -L /dev/null   -d $ZONEINFO/posix -y "sh yearistype.sh" ${tz}
    zic -L leapseconds -d $ZONEINFO/right -y "sh yearistype.sh" ${tz}
done

cp -v zone.tab zone1970.tab iso3166.tab $ZONEINFO
zic -d $ZONEINFO -p America/New_York
unset ZONEINFO

find /share/zoneinfo | porg -lp tzdata-&tzdata-version;</userinput></screen>

    <sect3>
      <title>Explanation</title>

      <para>
        <command>zic -L /dev/null ...</command>: This creates posix timezones,
        without any leap seconds. It is conventional to put these in both
        zoneinfo and zoneinfo/posix.
      </para>

      <para>
        <command>zic -L leapseconds ...</command>: This creates right
        timezones, including leap seconds.
      </para>

      <para>
        <command>zic ... -p ...</command>: This creates the posixrules file. We
        use New York because POSIX requires the daylight savings time rules to
        be in accordance with US rules.
      </para>

    </sect3>

  </sect2>

  <sect2>
    <title>Configuration</title>

    <para>
      One way to determine the local time zone is to run the following script:
    </para>

<screen><userinput>tzselect</userinput></screen>

    <para>
      After answering a few questions about the location, the script will
      output the name of the time zone (e.g., America/Edmonton). There are also
      some other possible timezones listed in /share/zoneinfo such as
      Canada/Eastern or EST5EDT that are not identified by the script but can
      be used. Then create the /etc/localtime file by running:
    </para>

<screen><userinput>porg -lp+ tzdata-&tzdata-version; "ln -sfv /share/zoneinfo/<replaceable>&lt;xxx&gt;</replaceable> /etc/localtime"</userinput></screen>

  </sect2>

</sect1>
