<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!ENTITY cairo-homepage      "http://www.cairographics.org/">
  <!ENTITY cairo-wikipedia     "https://en.wikipedia.org/wiki/Cairo_&#40;graphics&#41;">
  <!ENTITY cairo-download-http "http://cairographics.org/releases/cairo-&cairo-version;.tar.xz">
  <!ENTITY cairo-download-ftp  " ">
  <!ENTITY cairo-md5sum        "e1cdfaf1c6c995c4d4c54e07215b0118">
  <!ENTITY cairo-size          "34 MB">
  <!ENTITY cairo-buildsize     "0.1 GB">
  <!ENTITY cairo-time          "0.8 SBU">
]>

<sect1 id="cairo" xreflabel="Cairo-&cairo-version;">
  <?dbhtml filename="cairo.html"?>

  <title>Cairo-&cairo-version;</title>

  <sect2 role="package">
    <title>Introduction</title>

    <para>
      Cairo is a 2D graphics library with support for multiple output devices.
      Currently supported output targets include the X Window System, win32,
      image buffers, PostScript, PDF and SVG. Experimental backends include
      OpenGL, Quartz and XCB file output. Cairo is designed to produce
      consistent output on all output media while taking advantage of display
      hardware acceleration when available (e.g., through the X Render
      Extension). The Cairo API provides operations similar to the drawing
      operators of PostScript and PDF. Operations in Cairo include stroking and
      filling cubic B&eacute;zier splines, transforming and compositing
      translucent images, and antialiased text rendering. All drawing
      operations can be transformed by any <ulink
      url="http://en.wikipedia.org/wiki/Affine_transformation">affine
      transformation</ulink> (scale, rotation, shear, etc.).
    </para>

    <bridgehead renderas="sect3">Package Information</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>
          Homepage: <ulink url="&cairo-homepage;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Wikipedia: <ulink url="&cairo-wikipedia;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Download (HTTP): <ulink url="&cairo-download-http;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Download (FTP): <ulink url="&cairo-download-ftp;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Download MD5 sum: &cairo-md5sum;
        </para>
      </listitem>
      <listitem>
        <para>
          Download size: &cairo-size;
        </para>
      </listitem>
      <listitem>
        <para>
          Estimated disk space required: &cairo-buildsize;
        </para>
      </listitem>
      <listitem>
        <para>
          Estimated build time: &cairo-time;
        </para>
      </listitem>
    </itemizedlist>

    <bridgehead renderas="sect3">Additional Downloads</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>
          Recommended patch: <ulink
          url="&patch-root;cairo/cairo-&cairo-version;-respect_fontconfig-1.patch"/>
        </para>
      </listitem>
    </itemizedlist>

    <bridgehead renderas="sect3">Dependencies</bridgehead>

    <bridgehead renderas="sect4">Required</bridgehead>
    <para>
      <xref linkend="glib2"/> and
      <xref linkend="pixman"/>
    </para>

    <bridgehead renderas="sect4">Recommended</bridgehead>
    <para>
      <xref linkend="libpng"/>,
      <xref linkend="freetype2"/>,
      <xref linkend="fontconfig"/>,
      <xref linkend="libxext"/>, and
      <xref linkend="libxrender"/>
    </para>

    <bridgehead renderas="sect4">Optional</bridgehead>
    <para>
      <xref linkend="lzo"/>,
      <xref linkend="libdrm"/>,
      <xref linkend="mesa"/>,
      <ulink url="http://www.directfb.org/">DirectFB</ulink>, and
      <ulink url="http://code.google.com/p/skia/">Skia</ulink>
    </para>

  </sect2>

  <sect2>
    <title>Installation</title>

    <para>
      Suppress installation of unnecessary files:
    </para>

<screen><userinput>sed "s/ install-data-local//" -i doc/public/Makefile.in</userinput></screen>

    <para>
      Prepare the package for compilation:
    </para>

<screen><userinput>patch -p1 -i ../cairo-&cairo-version;-respect_fontconfig-1.patch &amp;&amp;
./configure --prefix= \
            --disable-static \
            --enable-tee</userinput></screen>

    <para>
      Compile the package:
    </para>

<screen><userinput>make</userinput></screen>

    <para>
      Install the package:
    </para>

<screen role="root"><userinput>porg -lD -E $PWD "make -j1 install &amp;&amp;
rm -v /lib/libcairo-gobject.la &amp;&amp;
rm -v /lib/libcairo-script-interpreter.la &amp;&amp;
rm -v /lib/libcairo.la &amp;&amp;
rm -v /lib/cairo/*.la"</userinput></screen>

    <sect3>
      <title>Command Explanations</title>

      <para>
        <parameter>--enable-tee</parameter>: This switch enables experimental
        tee surface backend which is required if using system-installed Cairo
        with Mozilla applications.
      </para>

      <para>
        <option>--enable-xlib-xcb</option>: This switch enables experimental
        Xlib/XCB functions used by some window managers.
      </para>

      <para>
        <option>--enable-gl</option>: This switch enables Cairo's experimental
        OpenGL surface which is required for Wayland compositor and some other
        packages that are not part of BLFS.
      </para>

    </sect3>

  </sect2>

</sect1>
