<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!ENTITY vim-homepage      "http://www.vim.org/">
  <!ENTITY vim-wikipedia     "http://en.wikipedia.org/wiki/Vim_&#40;text_editor&#41;">
  <!ENTITY vim-download-http "http://vim.mirror.fr/unix/vim-&vim-version;.tar.bz2">
  <!ENTITY vim-download-ftp  "ftp://ftp.vim.org/pub/vim/unix/vim-&vim-version;.tar.bz2">
  <!ENTITY vim-md5sum        "607e135c559be642f210094ad023dc65">
  <!ENTITY vim-size          "9.4 MB">
  <!ENTITY vim-buildsize     "90 MB">
  <!ENTITY vim-time          "1.7 SBU">
]>

<sect1 id="vim" xreflabel="vim-&vim-version;">
  <?dbhtml filename="vim.html"?>

  <title>vim-&vim-version;</title>

  <sect2 role="package">
    <title>Introduction</title>

    <para>
      The Vim package, which is an abbreviation for VI IMproved, contains a
      <command>vi</command> clone with extra features as compared to the original
      <command>vi</command>.
    </para>

    <bridgehead renderas="sect3">Package Information</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>
          Homepage: <ulink url="&vim-homepage;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Wikipedia: <ulink url="&vim-wikipedia;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Download (HTTP): <ulink url="&vim-download-http;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Download (FTP): <ulink url="&vim-download-ftp;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Download MD5 sum: &vim-md5sum;
        </para>
      </listitem>
      <listitem>
        <para>
          Download size: &vim-size;
        </para>
      </listitem>
      <listitem>
        <para>
          Estimated disk space required: &vim-buildsize;
        </para>
      </listitem>
      <listitem>
        <para>
          Estimated build time: &vim-time;
        </para>
      </listitem>
    </itemizedlist>

    <bridgehead renderas="sect3">Dependencies</bridgehead>

    <bridgehead renderas="sect4">Optional</bridgehead>
    <para>
      <xref linkend="perl"/>,
      <xref linkend="python3"/>,
      <xref linkend="ruby"/>, and
      <xref linkend="gpm"/>
    </para>

  </sect2>

  <sect2>
    <title>Installation</title>

    <para>
      Prepare the package for compilation:
    </para>

<screen><userinput>echo '#define SYS_VIMRC_FILE  "/etc/vim/vimrc"' &gt;&gt; src/feature.h &amp;&amp;
./configure --prefix=/ \
            --with-features=huge \
            --enable-gui=no \
            --without-x \
            --with-tlib=ncursesw</userinput></screen>

    <para>
      Compile the package:
    </para>

<screen><userinput>make</userinput></screen>

    <para>
      Install the package:
    </para>

<screen role="root"><userinput>porg -lp vim-&vim-version; -E $PWD "make -j1 install"</userinput></screen>

    <sect3>
      <title>Command Explanations</title>

      <para>
        <parameter>--with-features=huge</parameter>: This switch enables all the
        additional features available in Vim, including support for multibyte
        characters.
      </para>

      <para>
        <parameter>--enable-gui=no</parameter> <parameter>--without-x</parameter>:
        This will prevent compilation of the GUI and linking against X.
      </para>

      <para>
        <parameter>--with-tlib=ncursesw</parameter>: This switch forces Vim to link
        against the <filename class="libraryfile">libncursesw</filename> library.
      </para>

      <para>
        <option>--enable-perlinterp</option> <option>--enable-python3interp</option>
        <option>--enable-rubyinterp</option>: These options include the Perl, Python,
        or Ruby interpreters that allow using other application code in vim scripts.
      </para>

    </sect3>

  </sect2>

  <sect2>
    <title>Configuration</title>

    <para>
      At startup, <command>vim</command> reads the global configuration file
      (<filename>/etc/vim/vimrc</filename>) as well as a user-specific file
      (<filename>~/.vimrc</filename>). Either or both can be tailored to suit
      the needs of your particular system. Create an example <command>vim</command>
      configuration file by running the following:
    </para>

<screen role="root"><userinput>mkdir -v /etc/vim &amp;&amp;
cat &gt; /etc/vim/vimrc &lt;&lt; "EOF"
<literal>" Begin .vimrc

" This option stops vim from behaving in a strongly vi-compatible way. It should
" be at the start of any vimrc file as it can affect lots of other options which
" you may want to override.
set nocompatible

" This influences the behavior of the backspace option. It is fairly complex so
" see :help 'backspace' for more details.
set backspace=2

" This makes vim show the current row and column at the bottom right of the screen.
set ruler

" Enables vim's syntax highlighting.
syntax on

" This tells vim to use colors which look good on a dark background.
set background=dark

set tabstop=4
set shiftwidth=4
set softtabstop=4
set expandtab
set smarttab
set smartindent

" The following to makes Vim jump to the last position when reopening a file.
if has("autocmd")
  au BufReadPost * if line("'\"") > 1 &amp;&amp; line("'\"") &lt;= line("$") | exe "normal! g'\"" | endif
endif

set runtimepath+=/etc/vim

" End .vimrc</literal>
EOF
ls /etc/vim/vimrc | porg -lp+ vim-&vim-version;</userinput></screen>

    <para>
      Note that the comment tags are " instead of the more usual # or //.  This
      is correct, the syntax for <filename>vimrc</filename> is slightly unusual.
    </para>

    <para>
      More information on the <emphasis>many</emphasis> <command>vim</command>
      options can be found by reading the help inside <command>vim</command>
      itself. Do this by typing <command>:</command><option>help</option> in
      <command>vim</command> to get the general help, or by typing
      <command>:</command><option>help usr_toc.txt</option> to view the User
      Manual Table of Contents.
    </para>

    <para>
      Vim has an integrated spell checker which you can enable it if you issue
      the following in a vim window:
    </para>

<screen><literal>:setlocal spell spelllang=ru</literal></screen>

    <para>
      This setting will enable spell checking for the Russian language for the
      current session.
    </para>

    <para>
      By default, Vim only installs spell files for the English language. If a
      spell file is not available for a language, then Vim will call the
      <filename>$VIMRUNTIME/plugin/spellfile.vim</filename> plugin and will try
      to obtain the *.spl and optionally *.sug from the vim ftp server, by using
      the <filename>$VIMRUNTIME/plugin/netrwPlugin.vim</filename> plugin.
    </para>

<!-- When updating, be sure to change the line below for the proper 'vimxx' unpacked
     directory -->
    <para>
      Alternatively you can manually download the *.spl and *.sug files from:
      <ulink url="ftp://ftp.vim.org/pub/vim/runtime/spell/"/> and save them to
      <filename class="directory"> ~/.vim/spell </filename> or in <filename
      class="directory">/share/vim/vim74/spell/</filename>.
    </para>

    <para>
      For additional information on setting up Vim configuration files, see
      <ulink url='http://vim.wikia.com/wiki/Example_vimrc'/>.
    </para>

  </sect2>

</sect1>
